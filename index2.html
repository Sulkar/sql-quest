<!DOCTYPE html>

<html>

<head>
    <meta charset="utf8">

    <title>Online SQL Abenteuer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.46.0/codemirror.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.46.0/codemirror.js">
    </script>
    <script src="https://SortableJS.github.io/Sortable/Sortable.js">
    </script>
</head>

<body>
    <p><a href="./index.html">zurück</a></p>
    <h1>Online SQL Abenteuer</h1><select id="selectTable">
    <option value="init">
      Wähle eine Datenbank
    </option>
  </select>

    <p id="tableInfo">Aktuelle Datenbank: -</p>
    <textarea id="commands">
Bitte eine Datenbank auswählen!
</textarea> <button id="execute" class="button">SQL ausführen</button>
    <button id='savedb' class="button">Datenbank speichern</button> Datenbank laden:

    <form>
        <input type='file' id='dbfile'>
    </form>

    <div id="error" class="error"></div>
    <pre id="output">
...
</pre>
    <hr>

    <div>
        <div id="targetArea"></div>

        <div class="buttonArea">
            <p class="sqlSelectBefehl">
                <button class="btnSelect sqlSelect">SELECT ___ FROM ___</button>

                <select class="selTable sqlSelect">
                  <option value="" disabled selected hidden>Tabelle wählen</option>
                <option value="benutzer">benutzer</option>
               <option value="ware">warenausgabepunkt</option>
                <option value="punkte">punkte</option>
            </select>


                <select class="selField sqlSelect">
                <option value="" disabled selected hidden>Spalte wählen</option>
                <option value="*">*</option>
                <option value="id">id</option>
                <option value="name">name</option>
              </select>

                <select class="selAggregate sqlSelect">
                <option value="" disabled selected hidden>Aggregatsfunktion wählen</option>
                <option value="AVG">AVG ( ___ )</option>
                <option value="COUNT">COUNT ( ___ )</option>
                <option value="MIN">MIN ( ___ )</option>
                <option value="MAX">MAX ( ___ )</option>
                <option value="SUM">SUM ( ___ )</option>
              </select>

                <input type="text" placeholder="Wert" class="inputValue sqlSelect"> </input>
                <button class="btnDelete sqlSelect">X</button>
            </p>
            <p class="sqlWhereBefehl">
                <button class="btnWhere sqlWhere">WHERE ___ ___ ___</button>

                <select class="selField sqlWhere">
                  <option value="" disabled selected hidden>Tabelle wählen</option>
                  <option value="*">*</option>
                  <option value="id">id</option>
                  <option value="name">name</option>
                </select>

                <select class="selOperators sqlWhere">
                  <option value="" disabled selected hidden>Operator wählen</option>
                  <option value="=">=</option>
                  <option value="&gt;">&gt;</option>
                  <option value="&lt;">&lt;</option>
                  <option value="&gt;=">&gt;=</option>
                  <option value="=">&lt;=</option>
                  <option value="&&lt;&gt;">&lt;&gt;</option>
                  <option value="BETWEEN">BETWEEN</option>
                  <option value="LIKE">LIKE</option>
                  <option value="IN">IN</option>
                </select>

                <button class="btnAND sqlWhere">AND</button>
                <button class="btnOR sqlWhere">OR</button>
                <button class="btnLeftBracket sqlWhere">(</button>
                <button class="btnRightBracket sqlWhere">)</button>


                <input type="text" placeholder="Wert" class="inputValue sqlWhere"> </input>
            </p>
            <p class="sqlOrderBefehl">
                <button class="btnOrder sqlOrder">ORDER BY ___</button>

                <button class="btnLimit sqlOrder">LIMIT ___</button>
                <button class="btnOffset sqlOrder">OFFSET ___</button>
                <input type="text" placeholder="Wert" class="inputValue sqlOrder"> </input>
                <button class="btnAsc sqlOrder">ASC</button>
                <button class="btnDsc sqlOrder">DSC</button>
            </p>
            <p class="sqlGroupBefehl">

                <button class="btnGroup sqlGroup">GROUP BY ___</button>
                <button class="btnHAVING sqlGroup">HAVING ___ ___ ___</button>

                <select class="selOperators sqlGroup">
                  <option value="" disabled selected hidden>Operator wählen</option>
                  <option value="=">=</option>
                  <option value="&gt;">&gt;</option>
                  <option value="&lt;">&lt;</option>
                  <option value="&gt;=">&gt;=</option>
                  <option value="=">&lt;=</option>
                  <option value="&&lt;&gt;">&lt;&gt;</option>
                  <option value="BETWEEN">BETWEEN</option>
                  <option value="LIKE">LIKE</option>
                  <option value="IN">IN</option>
                </select>

                <select class="selAggregate sqlGroup">
                  <option value="" disabled selected hidden>Aggregatsfunktion wählen</option>
                  <option value="AVG">AVG ( ___ )</option>
                  <option value="COUNT">COUNT ( ___ )</option>
                  <option value="MIN">MIN ( ___ )</option>
                  <option value="MAX">MAX ( ___ )</option>
                  <option value="SUM">SUM ( ___ )</option>
                </select>

                <button class="btnAND sqlGroup">AND</button>
                <button class="btnOR sqlGroup">OR</button>
                <button class="btnLeftBracket sqlGroup">(</button>
                <button class="btnRightBracket sqlGroup">)</button>

                <input type="text" placeholder="Wert" class="inputValue sqlGroup"> </input>
            </p>
        </div>

        <p>Debug:</p>

        <div id="debug">
            ...
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.46.0/mode/sql/sql.min.js">
    </script>
    <script type="text/javascript" src="js/index.js">
    </script>
    <script type="text/javascript" src="js/sqlbuilder.js">
    </script>
    <script>
        // Target Area
        Sortable.create(gridSortTargetArea, {
            group: 'shared',
            animation: 150
        });
        // Library Buttons Area
        Sortable.create(gridSortLibrary, {
            group: {
                name: 'shared',
                pull: 'clone',
                //put: false
            },
            animation: 150,
            sort: false, // To disable sorting: set sort to false
            onAdd: function(evt) { // löscht Items, welche in die Library zurückgedropt werden
                var el = evt.item;
                el.parentNode.removeChild(el);

            }

        });
    </script>
</body>

</html>