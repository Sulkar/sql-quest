<!DOCTYPE html>

<html>

<head>
    <meta charset="utf8">

    <title>Online SQL Abenteuer</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.46.0/codemirror.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.46.0/codemirror.js">
    </script>
    <script src="https://SortableJS.github.io/Sortable/Sortable.js">
    </script>
</head>

<body>
    <p><a href="./index.html">zurück</a></p>
    <h1>Online SQL Abenteuer</h1><select id="selectTable">
        <option value="init">
            Wähle eine Datenbank
        </option>
    </select>

    <p id="tableInfo">Aktuelle Datenbank: -</p>
    <textarea id="commands">
Bitte eine Datenbank auswählen!
</textarea> <button id="execute" class="button">SQL ausführen</button>
    <button id='savedb' class="button">Datenbank speichern</button> Datenbank laden:

    <form>
        <input type='file' id='dbfile'>
    </form>

    <div id="error" class="error"></div>
    <pre id="output">
...
</pre>
    <hr>

    <div>
        <div class="targetArea">
            <div class="codeArea">
                <pre>
                  <!--
                <span class="codeElement_0  codeline btnSelect sqlSelect parent sqlIdentifier synSQL" data-sql-element="SELECT">SELECT<span class="inputFields"><span class="codeElement_1 leerzeichen"> </span><span class="codeElement_2 synColumns selField sqlSelect child inputField root dbField sqlIdentifier"
                    data-sql-element="SELECT_SELECT" data-next-element="6">name</span><span class="codeElement_8 synColumns selField sqlSelect child inputField sqlIdentifier extended" data-sql-element="SELECT_SELECT">,id</span><span class="codeElement_3 leerzeichen"> </span>
                <span class="codeElement_4 synSQL child" data-goto-element="0">FROM</span><span class="codeElement_5 leerzeichen"> </span><span class="codeElement_6 selTable  synTables sqlSelect child inputField root dbTable sqlIdentifier" data-sql-element="SELECT_FROM"
                    data-next-element="2">warenausgabepunkt</span></span>
                <span class="codeElement_9 leerzeichen"> </span><span class="codeElement_10 btnWhere sqlWhere parent synSQL sqlIdentifier" data-sql-element="WHERE">WHERE<span class="inputFields"><span class="codeElement_11 leerzeichen"> </span><span class="codeElement_12 selField synColumns sqlWhere child inputField root sqlIdentifier"
                    data-sql-element="WHERE_1" data-next-element="14">name</span><span class="codeElement_13 leerzeichen"> </span><span class="codeElement_14 selOperators sqlWhere child inputField root synOperators sqlIdentifier" data-sql-element="WHERE_2"
                    data-next-element="16">&gt;</span>
                <span class="codeElement_15 leerzeichen"> </span><span class="codeElement_16 inputValue sqlWhere child inputField root sqlIdentifier synValues input" data-sql-element="WHERE_3" data-next-element="12">7</span></span>
                <span class="codeElement_18 leerzeichen"> </span><span class="codeElement_19 btnAND synSQL sqlWhere parent sqlIdentifier sqlWhereAND  inputFields" data-sql-element="AND">AND<span class="codeElement_20 leerzeichen"> </span>
                <span class="codeElement_21 synColumns child inputField root sqlIdentifier" data-sql-element="WHERE_1" data-next-element="23">name</span><span class="codeElement_22 leerzeichen"> </span><span class="codeElement_23 selOperators sqlWhere child inputField root syn sqlIdentifier"
                    data-sql-element="WHERE_2" data-next-element="25">=</span>
                <span class="codeElement_24 leerzeichen"> </span><span class="codeElement_25 inputValue sqlWhere child inputField root sqlIdentifier synValues input" data-sql-element="WHERE_3" data-next-element="21">'Franz'</span></span>
                <span class="codeElement_26 leerzeichen"> </span>
                </span><span class="codeElement_17 leerzeichen"> </span></span><span class="codeElement_7 leerzeichen"> </span>
              -->

<span class="codeElement_0 codeline btnSelect synSQL sqlSelect parent sqlIdentifier inputFields" data-sql-element="SELECT">SELECT<span class="codeElement_1 leerzeichen"> </span><span class="codeElement_8 selField synColumns synColumns sqlSelect inputField sqlIdentifier root" data-sql-element="SELECT_SELECT">id</span><span class="codeElement_3 leerzeichen"> </span><span class="codeElement_4" data-goto-element="0">FROM</span><span class="codeElement_5 leerzeichen"> </span><span class="codeElement_7 selTable synTables sqlSelect inputField sqlIdentifier root" data-sql-element="SELECT_FROM">ware</span><span class="codeElement_9 leerzeichen"> </span><span class="codeElement_10 btnWhere sqlWhere parent sqlIdentifier codeline inputFields" data-sql-element="WHERE">WHERE<span class="codeElement_11 leerzeichen"> </span><span class="codeElement_17 btnLeftBracket sqlWhere sqlIdentifier extended" data-sql-element="LEFTBRACKET"> ( </span><span class="codeElement_18 selField sqlWhere inputField sqlIdentifier root" data-sql-element="WHERE_1">id</span><span class="codeElement_13 leerzeichen"> </span><span class="codeElement_19 selOperators sqlWhere inputField sqlIdentifier root" data-sql-element="WHERE_2">=</span><span class="codeElement_15 leerzeichen"> </span><span class="codeElement_16 inputField unfilled root sqlIdentifier input" data-sql-element="WHERE_3" data-next-element="12">15</span><span class="codeElement_20 btnRightBracket sqlWhere sqlIdentifier extended" data-sql-element="RIGHTBRACKET"> ) </span><span class="codeElement_21 leerzeichen"> </span><span class="codeElement_22 btnAND sqlWhere parent sqlIdentifier inputFields" data-sql-element="AND">AND<span class="codeElement_23 leerzeichen"> </span><span class="codeElement_29 selField sqlWhere inputField sqlIdentifier root" data-sql-element="WHERE_1">name</span><span class="codeElement_25 leerzeichen"> </span><span class="codeElement_30 selOperators sqlWhere inputField sqlIdentifier root" data-sql-element="WHERE_2">=</span><span class="codeElement_27 leerzeichen"> </span><span class="codeElement_28 inputField unfilled root sqlIdentifier input" data-sql-element="WHERE_3" data-next-element="24">'Franz'</span></span></span></span>

              </pre>
            </div>

            <div class="buttonArea">
                <p class="sqlSelectBefehl">
                    <button class="btnSelect synSQL sqlSelect">SELECT ___ FROM ___</button>

                    <select class="selTable synTables sqlSelect">
            <option value="" disabled selected hidden>Tabelle wählen</option>
            <option value="benutzer">benutzer</option>
            <option value="ware">warenausgabepunkt</option>
            <option value="punkte">punkte</option>
          </select>


                    <select class="selField synColumns synColumns sqlSelect">
            <option value="" disabled selected hidden>Spalte wählen</option>
            <option value="*">*</option>
            <option value="id">id</option>
            <option value="name">name</option>
          </select>

                    <select class="selAggregate synSQL sqlSelect">
            <option value="" disabled selected hidden>Aggregatsfunktion wählen</option>
            <option value="AVG">AVG ( ___ )</option>
            <option value="COUNT">COUNT ( ___ )</option>
            <option value="MIN">MIN ( ___ )</option>
            <option value="MAX">MAX ( ___ )</option>
            <option value="SUM">SUM ( ___ )</option>
          </select>

                    <input type="text" placeholder="Wert" class="inputValue synValues sqlSelect"> </input>
                    <button class="btnDelete sqlSelect">X</button>
                </p>
                <p class="sqlWhereBefehl">
                    <button class="btnWhere synSQL sqlWhere">WHERE ___ ___ ___</button>

                    <select class="selField synColumns sqlWhere">
            <option value="" disabled selected hidden>Spalte wählen</option>
            <option value="*">*</option>
            <option value="id">id</option>
            <option value="name">name</option>
          </select>

                    <select class="selOperators synOperators sqlWhere">
            <option value="" disabled selected hidden>Operator wählen</option>
            <option value="=">=</option>
            <option value="&gt;">&gt;</option>
            <option value="&lt;">&lt;</option>
            <option value="&gt;=">&gt;=</option>
            <option value="=">&lt;=</option>
            <option value="&&lt;&gt;">&lt;&gt;</option>
            <option value="BETWEEN">BETWEEN</option>
            <option value="LIKE">LIKE</option>
            <option value="IN">IN</option>
          </select>

                    <button class="btnAND synSQL sqlWhere">AND</button>
                    <button class="btnOR synSQL sqlWhere">OR</button>
                    <button class="btnLeftBracket synBrackets sqlWhere">(</button>
                    <button class="btnRightBracket synBrackets sqlWhere">)</button>


                    <input type="text" placeholder="Wert" class="inputValue synValues sqlWhere"> </input>
                </p>
                <p class="sqlOrderBefehl">
                    <button class="btnOrder synSQL sqlOrder">ORDER BY ___</button>

                    <button class="btnLimit synSQL sqlOrder">LIMIT ___</button>
                    <button class="btnOffset synSQL sqlOrder">OFFSET ___</button>
                    <input type="text" placeholder="Wert" class="inputValue synValue sqlOrder"> </input>
                    <button class="btnAsc synSQL sqlOrder">ASC</button>
                    <button class="btnDesc synSQL sqlOrder">DESC</button>
                </p>
                <p class="sqlGroupBefehl">

                    <button class="btnGroup synSQL sqlGroup">GROUP BY ___</button>
                    <button class="btnHAVING synSQL sqlGroup">HAVING ___ ___ ___</button>



                    <select class="selAggregate synSQL sqlGroup">
            <option value="" disabled selected hidden>Aggregatsfunktion wählen</option>
            <option value="AVG">AVG ( ___ )</option>
            <option value="COUNT">COUNT ( ___ )</option>
            <option value="MIN">MIN ( ___ )</option>
            <option value="MAX">MAX ( ___ )</option>
            <option value="SUM">SUM ( ___ )</option>
          </select>

                    <button class="btnAND synSQL sqlGroup">AND</button>
                    <button class="btnOR synSQL sqlGroup">OR</button>
                    <button class="btnLeftBracket synBrackets sqlGroup">(</button>
                    <button class="btnRightBracket synBrackets sqlGroup">)</button>

                    <select class="selOperators synOperators sqlGroup">
            <option value="" disabled selected hidden>Operator wählen</option>
            <option value="=">=</option>
            <option value="&gt;">&gt;</option>
            <option value="&lt;">&lt;</option>
            <option value="&gt;=">&gt;=</option>
            <option value="=">&lt;=</option>
            <option value="&&lt;&gt;">&lt;&gt;</option>
            <option value="BETWEEN">BETWEEN</option>
            <option value="LIKE">LIKE</option>
            <option value="IN">IN</option>
          </select>

                    <input type="text" placeholder="Wert" class="inputValue synValues sqlGroup"> </input>
                </p>

                <p class="sqlJoinBefehl">
                    <button class="btnJoin synSQL sqlJoin">JOIN ___ ON ___ ___ ___</button>

                    <select class="selTable synTables sqlJoin">
            <option value="" disabled selected hidden>Tabelle wählen</option>
            <option value="benutzer">benutzer</option>
            <option value="ware">warenausgabepunkt</option>
            <option value="punkte">punkte</option>
          </select>

                    <select class="selField synColumns sqlJoin">
            <option value="" disabled selected hidden>Spalte wählen</option>
            <option value="*">*</option>
            <option value="id">id</option>
            <option value="name">name</option>
          </select>


                    <select class="selOperators synOperators sqlJoin">
            <option value="" disabled selected hidden>Operator wählen</option>
            <option value="=">=</option>
            <option value="&gt;">&gt;</option>
            <option value="&lt;">&lt;</option>
            <option value="&gt;=">&gt;=</option>
            <option value="=">&lt;=</option>
            <option value="&&lt;&gt;">&lt;&gt;</option>
            <option value="BETWEEN">BETWEEN</option>
            <option value="LIKE">LIKE</option>
            <option value="IN">IN</option>
          </select>

                </p>
            </div>

            <p>Debug:</p>

            <div id="debug">
                ...
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.46.0/mode/sql/sql.min.js">
        </script>
        <script type="text/javascript" src="js/index.js">
        </script>
        <script type="text/javascript" src="js/sqlbuilder.js">
        </script>
        <script>
            // Target Area
            Sortable.create(gridSortTargetArea, {
                group: 'shared',
                animation: 150
            });
            // Library Buttons Area
            Sortable.create(gridSortLibrary, {
                group: {
                    name: 'shared',
                    pull: 'clone',
                    //put: false
                },
                animation: 150,
                sort: false, // To disable sorting: set sort to false
                onAdd: function(evt) { // löscht Items, welche in die Library zurückgedropt werden
                    var el = evt.item;
                    el.parentNode.removeChild(el);

                }

            });
        </script>
</body>

</html>